---
title: "JSON 和 JSON5 的区别"
pubDate: 2025-07-09
description: "JSON 和 JSON5 的区别"
author: "Xephrus"
heroImage: "../../assets/json5-banner.jpg"
tags: ["json", "json5"]
---

在鸿蒙系统（HarmonyOS）开发中，JSON 和 JSON5 是两种用于数据交换的格式。虽然它们有相似的用途，但在语法和特性上存在一些关键区别。了解这些区别有助于开发者选择合适的格式来满足不同的需求。

#### JSON

JSON 是一种轻量级的数据交换格式，基于 JavaScript 语法。它被广泛应用于数据传输和存储，因其简单性和可读性受到了广泛欢迎。

##### 特点

1. 简单和轻量级：JSON 语法简单，容易理解和使用。
2. 易于解析：大多数编程语言都提供了内置或库支持来解析 JSON 数据。
3. 严格的语法规则：
   1. 字符串必须用双引号（""）括起来。
   2. 对象中的键名必须是双引号括起来的字符串。
   3. 不允许结尾的逗号。
   4. 不支持注释。

##### 示例

```javascript
{
  "name": "John",
  "age": 30,
  "isStudent": false,
  "courses": ["Math", "Science"]
}
```

#### JSON5

JSON5 是 JSON 的超集，旨在解决 JSON 语法的某些限制，使其更接近 JavaScript 对象字面量的语法。它提供了更宽松的语法规则，增加了可读性和便利性。

##### 特点

1. 宽松的语法规则：
   1. 字符串可以用单引号（''）或双引号（""）括起来，甚至可以省略引号（对于没有特殊字符的键名）。
   2. 对象中的键名可以省略引号（只要键名没有特殊字符）。
   3. 允许结尾的逗号。
   4. 支持注释（单行注释和多行注释）。
   5. 支持多行字符串。
2. 增强的可读性和可写性：更接近 JavaScript 对象字面量的语法，便于手动编写和维护。

##### 示例

```javascript
{
  name: 'John', // 允许不使用引号的键名和单引号的字符串
  age: 30,
  isStudent: false,
  courses: ['Math', 'Science'], // 允许结尾逗号
  // 这是一个注释
  address: {
    city: 'New York', /* 多行注释 */
    zip: 10001,
  },
  description: `This is a
  multi-line string.`
}
```

#### JSON vs JSON5 的对比

| 特性                 | JSON                     | JSON5                           |
| -------------------- | ------------------------ | ------------------------------- |
| 字符串引号           | 只能使用双引号           | 可以使用单引号或双引号          |
| 对象键名引号         | 必须使用双引号           | 可以省略引号                    |
| 结尾逗号             | 不允许                   | 允许                            |
| 注释                 | 不支持                   | 支持（单行注释和多行注释）      |
| 多行字符串           | 不支持                   | 支持                            |
| 解析和序列化工具支持 | 广泛支持（内置或库支持） | 需要额外的库支持（如 json5 库） |

#### 使用场景

- **JSON**：适用于数据交换和存储，特别是在需要严格格式和广泛兼容性的场景下。大多数 API 和数据传输协议都使用 JSON。

- **JSON5**：适用于配置文件和需要手动编辑的场景，因其宽松的语法和增强的可读性，使得手动编写和维护更为方便。

#### 总结

JSON 和 JSON5 各有优劣，开发者可以根据具体需求选择合适的格式。对于需要严格格式和广泛兼容性的场景，JSON 是更好的选择。而在需要更灵活和易读的配置文件或手动编辑场景下，JSON5 提供了更多的便利和可读性。
